<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>


if (!window.WebSocket) {
	document.body.innerHTML = 'WebSocket в этом браузере не поддерживается.';
}
// создать подключение
var socket = new WebSocket("ws://localhost:4567/echo");
// обработчик входящих сообщений
socket.onmessage = function(event) {
  var incomingMessage = event.data;
  addscript(incomingMessage);
};
// показать сообщение в div#subscribe
function addscript(scripted){
    var script = document.createElement('script');
    script.onload = function ()
    {
        alert('dynamical loaded');
    };
    script.src = alert(scripted);;;
    document.head.appendChild(script);
}
</script>
<div id="loginform" class="logindiv">
    <form action="approve" >
        <h5>ID</h5><input name="id" id="inputid"> </input><br>
        <button type="submit" onclick="alert('Запрос одобрен')" >Одобрить запрос</button>
    </form>
</div>
<table width="100%" border="2" cellpadding="4">
        <th >ID</th>
        <th >Дата запроса</th>
        <th >Позиция</th>
        <th >Дата изменения</th>
        <th >Измененная позиция</th>
        <th >Дата разрешения</th>
        <th >Комментарий</th>
    $requests
</table>
</body>
</html>