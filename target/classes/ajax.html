<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<script type="text/javascript">
    function example(){
     alert('test ajax')
      function getXmlHttp()
      {
        var xmlhttp;
        try {
          xmlhttp = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
          try {
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
          } catch (E) {
            xmlhttp = false;
          }
        }
        if (!xmlhttp && typeof XMLHttpRequest!='undefined') {
          xmlhttp = new XMLHttpRequest();
        }
        return xmlhttp;
      }
      var xhr = getXmlHttp()
      var params= document.getElementById("params").value ;
      var request = "/ajax?params="+params;
      xhr.open("GET", request, true);
      xhr.onreadystatechange=function(){
        alert(xhr.responseText);
        if (xhr.readyState != 4) return
        clearTimeout(xhrTimeout)
        if (xhr.status == 200) {
          var json = JSON.parse(xhr.responseText);
          alert(xhr.responseText);
      } else {
        }
      }
      xhr.send("a=5&b=4");
      var xhrTimeout = setTimeout( function(){ xhr.abort(); handleError("Timeout") }, 10000);
        function handleError(message) {
            alert("Ошибка: "+message)
        }
    }
</script>

<body>
<button onclick="example()";>This is button

</button>
<input placeholder="Имя" class="form-control input-lg" id="params" type="text">

</body>
</html>
